<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Newsletter</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Red+Hat+Display:wght@300..900&family=Roboto+Mono:wght@100..700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Red Hat Display', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
            color: #333;
            background-image: url(https://images8.alphacoders.com/528/thumb-1920-528619.jpg);
        }

        header {
            background: #2d2d2d;
            color: #fff;
            padding: 10px;
            text-align: center;
        }

        .container {
            width: 80%;
            margin: 20px auto;
            background: #2d2d2d;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }

        .post-card {
            margin-bottom: 20px;
            padding: 10px;
            border: 1px solid #eaeaea;
            display: flex;
            align-items: center;
            background-color: #4f504f;
            border-radius: 10px;
        }

        .post-content {
            flex-grow: 1; /* Permite que o texto ocupe o espaço disponível */
            display: flex;
            align-items: center;
        }

        .post img {
            width: 10px;
            height: 10px;
            margin-left: 20px; /* Espaço entre o texto e a imagem */
        }

        .post h3, .post p {
            color: #fff;
            text-align: left; /* Texto alinhado à esquerda */
            margin: 0; /* Remove margens para um layout mais limpo */
        }

        .post-content img{
        	width: 250px;
            height: 250px;
            border: 5px solid black;
            border-radius: 10px;
        }

        .post-content p{
        	color: white;
        	max-width: 80%;
        	font-style: italic;
        }

        .post-content{
        	padding: 15px;
        }

        .post-content h3{
        	font-size: 48px;
        	color: white;
        }

        .form-group {
            color: white;
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #fff;
        }

        input[type="text"], textarea, input[type="file"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
            font-size: 16px;
        }

        button {
            width: 100%;
            padding: 10px;
            background-color: #4f504f;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        button:hover {
            background-color: #9d9d9d;
        }

        .container h1{
        	color:white;
        }

        footer {
            text-align: center;
            padding: 10px;
            background: #2d2d2d;
            color: #fff;
        }

        .form-group #imagem{

        }

    </style>
</head>
<body>

<header>
    <h1>Universo em Movimento - Seja bem-vindo ao nosso Fórum!</h1>
</header>

<div class="container">
    <h1>Crie um post</h1>
    <form id="postForm">
        <div class="form-group">
            <label for="titulo">Título:</label>
            <input type="text" id="titulo" name="titulo" required>
        </div>
        <div class="form-group">
            <label for="descricao">Descrição:</label>
            <textarea id="descricao" name="descricao" required></textarea>
        </div>
        <div class="form-group">
            <label for="imagem">Upload de Imagem:</label>
            <input type="file" id="imagem" name="imagem" accept="image/*" required>
        </div>
        <button type="submit">Enviar</button>
    </form>
</div>


<div class="container" id="postsContainer">
    <!-- Os posts gerados aparecerão aqui -->
</div>


<footer>
    <p>&copy; 2024 Newsletter. Todos os direitos reservados.</p>
</footer>

<script>
    const postsContainer = document.getElementById('postsContainer');

    // Função para carregar os posts do localStorage
    function loadPosts() {
        const posts = JSON.parse(localStorage.getItem('posts')) || [];
        posts.forEach(post => addPostToDOM(post.title, post.description, post.image));
    }

    // Função para adicionar post ao DOM
    function addPostToDOM(titulo, descricao, imagem) {
        const postContainer = document.createElement('div');
        postContainer.classList.add('post-card');

        const post = document.createElement('div');
        post.classList.add('post-content');

        post.innerHTML = `
            <div>
                <h3>${titulo}</h3>
                <p>${descricao}</p>
            </div>
            <img src="${imagem}" alt="Imagem do post" />
        `;

        postContainer.appendChild(post);
        postsContainer.insertBefore(postContainer, postsContainer.firstChild);
    }

    // Função para salvar posts no localStorage
    function savePost(titulo, descricao, imagem) {
        const posts = JSON.parse(localStorage.getItem('posts')) || [];
        posts.push({ title: titulo, description: descricao, image: imagem });
        localStorage.setItem('posts', JSON.stringify(posts));
    }

    document.getElementById('postForm').addEventListener('submit', function(event) {
        event.preventDefault(); // Impede o envio do formulário

        const titulo = document.getElementById('titulo').value;
        const descricao = document.getElementById('descricao').value;
        const imagem = document.getElementById('imagem').files[0];

        if (imagem) {
            const reader = new FileReader();
            reader.onload = function(e) {
                const imageUrl = e.target.result;
                addPostToDOM(titulo, descricao, imageUrl); // Adiciona o post ao DOM
                savePost(titulo, descricao, imageUrl); // Salva o post no localStorage
            };
            reader.readAsDataURL(imagem); // Lê a imagem como URL
        }

        this.reset(); // Limpa os campos do formulário
    });

    // Carrega posts ao inicializar
    loadPosts();
</script>

</body>
</html>
